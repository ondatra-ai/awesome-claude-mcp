# Story 1.1: Minimal Frontend-Backend Integration Setup

## Status
Draft

## Story
**As a** Developer/Maintainer,
**I want** to create a minimal Next.js frontend connected to a Go backend,
**so that** I have a working full-stack foundation to build upon

## Acceptance Criteria
1. Monorepo structure with services/ directory created
2. Go backend service with `/version` endpoint returning "1.0.0"
3. Next.js 14 single-page frontend application
4. Frontend homepage displays backend version "1.0.0" at the bottom
5. Docker and docker-compose configuration for local development
6. Playwright E2E testing framework configured
7. Go modules initialized for backend service
8. Next.js project initialized with TypeScript
9. Dockerfiles created for both services
10. Basic project structure follows architecture document
11. Health check endpoints for both services
12. README.md with setup and run instructions

## Tasks / Subtasks

- [ ] Task 1: Create Monorepo Structure (AC: 1, 10)
  - [ ] Create `services/` directory in project root
  - [ ] Create `services/frontend/` directory for Next.js service
  - [ ] Create `services/backend/` directory for Go service
  - [ ] Verify structure aligns with source-tree.md specification

- [ ] Task 2: Initialize Go Backend Service (AC: 2, 7, 11)
  - [ ] Initialize Go modules with `go mod init` in services/backend/
  - [ ] Create `cmd/main.go` entry point following source-tree structure
  - [ ] Implement Fiber 2.52.0 server setup with production configuration
  - [ ] Add `/version` endpoint returning JSON `{"version": "1.0.0"}`
  - [ ] Add `/health` endpoint returning service health status
  - [ ] Configure structured logging with zerolog
  - [ ] Add graceful shutdown handling
  - [ ] Create unit tests using testify framework

- [ ] Task 3: Initialize Next.js Frontend Service (AC: 3, 4, 8)
  - [ ] Create Next.js 14 project with App Router in services/frontend/
  - [ ] Configure TypeScript with strict mode enabled
  - [ ] Install and configure Tailwind CSS 3.4.0
  - [ ] Install shadcn/ui components (button, card)
  - [ ] Create homepage displaying "MCP Google Docs Editor" title
  - [ ] Implement API client to fetch backend version
  - [ ] Display backend version "1.0.0" at bottom of homepage
  - [ ] Add loading and error states for version display
  - [ ] Create unit tests with Jest and React Testing Library

- [ ] Task 4: Docker Configuration (AC: 5, 9)
  - [ ] Create multi-stage Dockerfile for Go backend service
  - [ ] Create Dockerfile for Next.js frontend service
  - [ ] Create docker-compose.yml for local development stack
  - [ ] Configure environment variables for service communication
  - [ ] Add health checks to Docker containers
  - [ ] Test full stack startup with docker-compose

- [ ] Task 5: E2E Testing Framework (AC: 6)
  - [ ] Install and configure Playwright in project root
  - [ ] Create test for homepage loading and title display
  - [ ] Create test for backend version API integration
  - [ ] Configure Playwright for Docker environment testing
  - [ ] Add E2E test scripts to package.json

- [ ] Task 6: Documentation (AC: 12)
  - [ ] Create comprehensive README.md with setup instructions
  - [ ] Document local development workflow
  - [ ] Add docker-compose usage instructions
  - [ ] Document testing procedures
  - [ ] Add troubleshooting section

## Dev Notes

### Previous Story Insights
No previous stories (this is the first story in the epic).

### Data Models
No specific data models required for this minimal integration setup.

### API Specifications
**Backend Service Endpoints:** [Source: architecture/source-tree.md#backend-service-structure]
- `GET /version` - Returns `{"version": "1.0.0"}` JSON response
- `GET /health` - Returns service health status for monitoring

**Frontend API Integration:**
- API client configuration targeting backend service
- Error handling for network failures
- Loading states for API calls

### Component Specifications
**Frontend Components:** [Source: architecture/source-tree.md#frontend-service-structure]
- Homepage component with "MCP Google Docs Editor" title display
- Version display component for backend version
- Error boundary for API failure handling
- Loading states for asynchronous operations

### File Locations
**Backend Service:** [Source: architecture/source-tree.md#backend-service-structure]
- Entry point: `services/backend/cmd/main.go`
- Server setup: `services/backend/internal/api/server.go`
- Handlers: `services/backend/internal/api/handlers/`
- Go module: `services/backend/go.mod`
- Dockerfile: `services/backend/Dockerfile`

**Frontend Service:** [Source: architecture/source-tree.md#frontend-service-structure]
- App Router: `services/frontend/app/`
- Homepage: `services/frontend/app/page.tsx`
- Components: `services/frontend/components/`
- API client: `services/frontend/lib/api.ts`
- Dockerfile: `services/frontend/Dockerfile`

**Project Root:**
- Docker composition: `docker-compose.yml`
- E2E tests: `tests/e2e/`
- Documentation: `README.md`

### Testing Requirements
**Go Backend Testing:** [Source: architecture/coding-standards.md#testing-standards]
- Framework: testify v1.8.4 with assert and mock packages
- Test files alongside implementation: `*_test.go` pattern
- Unit test coverage: 80% minimum, 85% for business logic
- AAA pattern: Arrange, Act, Assert
- Mock external dependencies using gomock

**Next.js Frontend Testing:** [Source: architecture/coding-standards.md#testing-standards]
- Framework: Jest with React Testing Library
- Test files in `tests/` directory
- Component testing for user interactions
- API client testing with mocked responses
- Coverage requirements: 80% overall

**E2E Testing:** [Source: architecture/coding-standards.md#testing-standards]
- Framework: Playwright for cross-browser testing
- Test complete user workflows
- Docker Compose environment testing
- Browser compatibility testing

### Technical Constraints
**Go Backend:** [Source: architecture/tech-stack.md]
- Go version: 1.21.5
- Framework: Fiber 2.52.0 with production configuration
- Logging: zerolog v1.31.0 with structured JSON format
- Docker base: golang:1.21-alpine for building, alpine:3.18 for runtime

**Next.js Frontend:** [Source: architecture/tech-stack.md]
- Next.js version: 14.1.0 with App Router
- TypeScript: 5.3.3 with strict configuration
- Styling: Tailwind CSS 3.4.0
- UI Components: shadcn/ui components
- Node.js: 18.x runtime

**Project Structure:** [Source: architecture/source-tree.md]
- Monorepo with 3-service architecture
- Services directory separation
- Consistent naming conventions
- Docker containerization for all services

### Testing
**Test File Locations:** [Source: architecture/source-tree.md]
- Backend tests: `services/backend/tests/`
- Frontend tests: `services/frontend/tests/`
- E2E tests: `tests/e2e/`

**Testing Standards:**
- Unit tests required for all business logic
- Integration tests for API endpoints
- E2E tests for complete user workflows
- Docker Compose testing environment
- Pre-commit hooks for test execution

**Testing Frameworks:**
- Go: testify v1.8.4, gomock v1.6.0
- TypeScript: Jest, React Testing Library
- E2E: Playwright with Docker support

**Coverage Requirements:**
- Overall: 80% minimum
- Business logic: 85% minimum
- Critical paths: 100% (health checks, API endpoints)

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-09-09 | 1.0 | Initial story creation | Scrum Master |

## Dev Agent Record

### Agent Model Used
[To be populated by dev agent]

### Debug Log References
[To be populated by dev agent]

### Completion Notes List
[To be populated by dev agent]

### File List
[To be populated by dev agent]

## QA Results
[To be populated by QA agent]